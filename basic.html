<textarea id="source" cols=60 rows=40>
dim b(10)
let a=[b(3)]


</textarea>

<textarea id="out" cols=60 rows=40></textarea>

<button onclick="compile()">Compile</button>
<p><a href="https://github.com/maly/bas80/blob/master/README.md">README</a></p>
<script src="./targets/cpu/8080/library.js"></script>
<script src="./targets/cpu/8080/basic.js"></script>
<script src="./targets/omenalpha/cfg.js"></script>
<script src="./targets/omencharlie/cfg.js"></script>

<script src="lex.js"></script>
<script src="parsing.js"></script>
<script src="generator.js"></script>
<script>



var compile = function(){
    var source = document.getElementById("source").value

    source=source.replace(/\&gt\;/gs,">")
    source=source.replace(/\&lt\;/gs,"<")

    //source +="\nEND\n"
    //var ENGINE = "OMENALPHA"
    var ENGINE = "OMENCHARLIE"

    var basic = parse(source)


    console.log(basic)


    var asm = generator(basic,CONFIG[ENGINE],BASIC[CONFIG[ENGINE].cpu])

    document.getElementById("out").value = (asm)
}

compile()
</script>
